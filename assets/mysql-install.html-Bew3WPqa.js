import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,f as e,o as l}from"./app-Cp6Zyva7.js";const i={};function t(r,a){return l(),n("div",null,[...a[0]||(a[0]=[e(`<h2 id="初始化" tabindex="-1"><a class="header-anchor" href="#初始化" aria-hidden="true">#</a> 初始化</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>setenforce <span class="token number">0</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;s/SELINUX=enforcing/SELINUX=disabled/g&#39;</span> /etc/selinux/config
systemctl stop firewalld
systemctl disable firewalld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="解压mysql" tabindex="-1"><a class="header-anchor" href="#解压mysql" aria-hidden="true">#</a> 解压mysql</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> mysql-5.7.35-linux-glibc2.12-x86_64.tar.gz
<span class="token function">cp</span> <span class="token parameter variable">-r</span> mysql-5.7.35-linux-glibc2.12-x86_64 /usr/local/mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="添加用户组和用户" tabindex="-1"><a class="header-anchor" href="#添加用户组和用户" aria-hidden="true">#</a> 添加用户组和用户</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">groupadd</span> mysql <span class="token operator">&amp;&amp;</span> <span class="token function">useradd</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-g</span> mysql mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="创建数据目录并赋予权限" tabindex="-1"><a class="header-anchor" href="#创建数据目录并赋予权限" aria-hidden="true">#</a> 创建数据目录并赋予权限</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /var/lib/mysql
<span class="token function">chown</span> mysql:mysql <span class="token parameter variable">-R</span> /var/lib/mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="修改配置文件-vim-etc-my-cnf" tabindex="-1"><a class="header-anchor" href="#修改配置文件-vim-etc-my-cnf" aria-hidden="true">#</a> 修改配置文件 vim /etc/my.cnf</h2><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code>[mysqld]
<span class="token key attr-name">bind-address</span><span class="token punctuation">=</span><span class="token value attr-value">0.0.0.0</span>
<span class="token key attr-name">port</span><span class="token punctuation">=</span><span class="token value attr-value">3306</span>
<span class="token key attr-name">user</span><span class="token punctuation">=</span><span class="token value attr-value">mysql</span>
<span class="token key attr-name">basedir</span><span class="token punctuation">=</span><span class="token value attr-value">/usr/local/mysql</span>


<span class="token key attr-name">max_connections</span><span class="token punctuation">=</span><span class="token value attr-value">1500</span>
<span class="token key attr-name">datadir</span><span class="token punctuation">=</span><span class="token value attr-value">/var/lib/mysql</span>
<span class="token key attr-name">socket</span><span class="token punctuation">=</span><span class="token value attr-value">/var/lib/mysql/mysql.sock</span>
<span class="token key attr-name">log-error</span><span class="token punctuation">=</span><span class="token value attr-value">/var/lib/mysqld.log</span>
<span class="token key attr-name">pid-file</span><span class="token punctuation">=</span><span class="token value attr-value">/var/lib/mysql/mysqld.pid</span>
<span class="token key attr-name">default-storage-engine</span><span class="token punctuation">=</span><span class="token value attr-value">INNODB</span>
<span class="token key attr-name">lower-case-table-names</span><span class="token punctuation">=</span><span class="token value attr-value">1</span>
<span class="token key attr-name">log_bin</span><span class="token punctuation">=</span><span class="token value attr-value">binlog</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="初始化mysql" tabindex="-1"><a class="header-anchor" href="#初始化mysql" aria-hidden="true">#</a> 初始化mysql</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /usr/local/mysql/bin
./mysqld --defaults-file<span class="token operator">=</span>/etc/my.cnf <span class="token parameter variable">--basedir</span><span class="token operator">=</span>/usr/local/mysql/ <span class="token parameter variable">--datadir</span><span class="token operator">=</span>/var/lib/mysql/ <span class="token parameter variable">--user</span><span class="token operator">=</span>mysql <span class="token parameter variable">--initialize</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="启动mysql" tabindex="-1"><a class="header-anchor" href="#启动mysql" aria-hidden="true">#</a> 启动mysql</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cp</span> /usr/local/mysql/support-files/mysql.server /etc/init.d/mysqld
<span class="token function">chmod</span> +x /etc/init.d/mysqld
systemctl <span class="token builtin class-name">enable</span> mysqld
systemctl start mysqld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="使用临时密码登录" tabindex="-1"><a class="header-anchor" href="#使用临时密码登录" aria-hidden="true">#</a> 使用临时密码登录</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cat</span> /var/lib/mysql/mysqld.log <span class="token operator">|</span> <span class="token function">grep</span> password
mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p</span>
alter user user<span class="token punctuation">(</span><span class="token punctuation">)</span> identified by <span class="token string">&#39;P@88w0rd&#39;</span><span class="token punctuation">;</span>
create user <span class="token string">&#39;admin&#39;</span>@<span class="token string">&#39;%&#39;</span> identified WITH mysql_native_password by <span class="token string">&#39;P@88w0rd&#39;</span><span class="token punctuation">;</span>
grant all privileges on *.* to <span class="token string">&#39;admin&#39;</span>@<span class="token string">&#39;%&#39;</span> with grant option<span class="token punctuation">;</span>
flush privileges<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="修改临时密码为自己指定密码" tabindex="-1"><a class="header-anchor" href="#修改临时密码为自己指定密码" aria-hidden="true">#</a> 修改临时密码为自己指定密码</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>alter user user<span class="token punctuation">(</span><span class="token punctuation">)</span> identified by <span class="token string">&#39;P@88w0rd&#39;</span><span class="token punctuation">;</span> <span class="token comment">#默认密码的长度最小值为 4 ，由 大/小写字母各一个 + 阿拉伯数字一个 + 特殊字符一个</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="创建用户-赋予权限" tabindex="-1"><a class="header-anchor" href="#创建用户-赋予权限" aria-hidden="true">#</a> 创建用户，赋予权限</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>alter user user<span class="token punctuation">(</span><span class="token punctuation">)</span> identified by <span class="token string">&#39;P@88w0rd&#39;</span><span class="token punctuation">;</span>
create user <span class="token string">&#39;admin&#39;</span>@<span class="token string">&#39;%&#39;</span> identified WITH mysql_native_password by <span class="token string">&#39;P@88w0rd&#39;</span><span class="token punctuation">;</span>
grant all privileges on *.* to <span class="token string">&#39;admin&#39;</span>@<span class="token string">&#39;%&#39;</span> with grant option<span class="token punctuation">;</span>
flush privileges<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,20)])])}const d=s(i,[["render",t],["__file","mysql-install.html.vue"]]);export{d as default};
