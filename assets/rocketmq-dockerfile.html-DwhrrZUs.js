import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,f as e,o}from"./app-Cp6Zyva7.js";const r={};function i(t,s){return o(),a("div",null,[...s[0]||(s[0]=[e(`<h3 id="_1-broker" tabindex="-1"><a class="header-anchor" href="#_1-broker" aria-hidden="true">#</a> 1. Broker</h3><p>Dockerfile-mq:</p><div class="language-docker line-numbers-mode" data-ext="docker"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> openjdk/linux/amd64/openjdk:11.0.13  </span>
<span class="token instruction"><span class="token keyword">MAINTAINER</span> yhma@amarsoft.com  </span>
<span class="token instruction"><span class="token keyword">ADD</span> rocketmq-4.9.3 /rocketmq  </span>
<span class="token instruction"><span class="token keyword">expose</span> 30909 30911 40911</span>
<span class="token instruction"><span class="token keyword">RUN</span> mkdir /data</span>
<span class="token instruction"><span class="token keyword">ENV</span> JAVA_OPT <span class="token string">&quot; -Xms2g -Xmx2g &quot;</span>  </span>
<span class="token instruction"><span class="token keyword">ENV</span> JAVA_OPT_EXT <span class="token string">&quot; --add-opens java.base/jdk.internal.misc=ALL-UNNAMED --add-exports java.base/jdk.internal.ref=ALL-UNNAMED &quot;</span>  </span>
<span class="token instruction"><span class="token keyword">CMD</span> exec /rocketmq/bin/mqbroker -c /conf/<span class="token variable">\${HOSTNAME}</span>.conf</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-console" tabindex="-1"><a class="header-anchor" href="#_2-console" aria-hidden="true">#</a> 2. Console</h3><p>Dockerfile-console:</p><div class="language-docker line-numbers-mode" data-ext="docker"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> harbor.amarsoft.com/rd-zhxd/als/als9/jdk:8u201</span>
<span class="token instruction"><span class="token keyword">MAINTAINER</span> yhma@amarsoft.com</span>
<span class="token instruction"><span class="token keyword">ADD</span> rocketmq-console-ng-1.0.1.jar /app.jar</span>
<span class="token instruction"><span class="token keyword">ENV</span> server.port 8080</span>
<span class="token instruction"><span class="token keyword">ENV</span> JAVA_OPT <span class="token string">&quot; -Xms256m -Xmx512m &quot;</span></span>
<span class="token instruction"><span class="token keyword">CMD</span> exec java <span class="token variable">\${JAVA_OPT}</span> -jar app.jar</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-nameserver" tabindex="-1"><a class="header-anchor" href="#_3-nameserver" aria-hidden="true">#</a> 3. NameServer</h3><p>Dockerfile-namesrv:</p><div class="language-docker line-numbers-mode" data-ext="docker"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> openjdk/linux/amd64/openjdk:11.0.13</span>
<span class="token instruction"><span class="token keyword">MAINTAINER</span> yhma@amarsoft.com</span>
<span class="token instruction"><span class="token keyword">ADD</span> rocketmq-4.9.3 /rocketmq</span>
<span class="token instruction"><span class="token keyword">expose</span> 9876</span>
<span class="token instruction"><span class="token keyword">ENV</span> JAVA_OPT <span class="token string">&quot; -Xms512m -Xmx512m &quot;</span></span>
<span class="token instruction"><span class="token keyword">ENV</span> JAVA_OPT_EXT <span class="token string">&quot; --add-opens java.base/jdk.internal.misc=ALL-UNNAMED &quot;</span></span>
<span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;/bin/sh&quot;</span>,<span class="token string">&quot;-c&quot;</span>,<span class="token string">&quot;/rocketmq/bin/mqnamesrv&quot;</span>]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,9)])])}const d=n(r,[["render",i],["__file","rocketmq-dockerfile.html.vue"]]);export{d as default};
