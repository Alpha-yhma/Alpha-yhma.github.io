const s=JSON.parse('{"key":"v-603a01a2","path":"/md/tool/traefik/traefik-config.html","title":"Traefik配置文件示例","lang":"zh-CN","frontmatter":{"title":"Traefik配置文件示例","icon":"fab fa-markdown","tag":"Traefik","description":"global: checkNewVersion: false # 周期性的检查是否有新版本发布 sendAnonymousUsage: false # 周期性的匿名发送使用统计信息 serversTransport: insecureSkipVerify: true # Traefik忽略验证代理服务的TLS证书 api: insecure: true # 允许HTTP 方式访问API dashboard: true # 启用Dashboard debug: false # 启用Debug调试模式 metrics: prometheus: # 配置Prometheus监控指标数据，并使用默认配置 addRoutersLabels: true # 添加routers metrics entryPoint: \\"metrics\\" # 指定metrics监听地址 entryPoints: web: address: \\":80\\" # 配置80端口，并设置入口名称为web forwardedHeaders: insecure: true # 信任所有的forward headers websecure: address: \\":443\\" # 配置443端口，并设置入口名称为 websecure forwardedHeaders: insecure: true traefik: address: \\":9000\\" # 配置9000端口，并设置入口名称为 dashboard metrics: address: \\":9100\\" # 配置9100端口，作为metrics收集入口 tcpep: address: \\":9200\\" # 配置9200端口，作为tcp入口 udpep: address: \\":9300/udp\\" # 配置9300端口，作为udp入口 providers: file: directory: \\"conf\\" # 读取当前路径下conf文件夹 kubernetesCRD: # 启用Kubernetes CRD方式来配置路由规则 ingressClass: \\"\\" # 指定traefik的ingressClass名称 allowCrossNamespace: true #允许跨namespace allowEmptyServices: true #允许空endpoints的service log: filePath: \\"/etc/traefik/logs/traefik.log\\" # 设置调试日志文件存储路径，如果为空则输出到控制台 level: \\"DEBUG\\" # 设置调试日志级别 format: \\"common\\" # 设置调试日志格式 accessLog: filePath: \\"/etc/traefik/logs/access.log\\" # 设置访问日志文件存储路径，如果为空则输出到控制台 format: \\"common\\" # 设置访问调试日志格式 bufferingSize: 0 # 设置访问日志缓存行数 filters: # statusCodes: [\\"200\\"] # 设置只保留指定状态码范围内的访问日志 retryAttempts: true # 设置代理访问重试失败时，保留访问日志 minDuration: 20 # 设置保留请求时间超过指定持续时间的访问日志 fields: # 设置访问日志中的字段是否保留（keep保留、drop不保留） defaultMode: keep # 设置默认保留访问日志字段 names: # 针对访问日志特别字段特别配置保留模式 ClientUsername: drop StartUTC: drop # 禁用日志timestamp使用UTC headers: # 设置Header中字段是否保留 defaultMode: keep # 设置默认保留Header中字段 names: # 针对Header中特别字段特别配置保留模式 # User-Agent: redact# 可以针对指定agent Authorization: drop Content-Type: keep experimental: # 实验性功能选项 localPlugins: # 使用本地插件 timerplugin: moduleName: \\"github.com/togettoyou/traefik-timer-plugin\\"","head":[["meta",{"property":"og:url","content":"https://Alpha-yhma.github.io/md/tool/traefik/traefik-config.html"}],["meta",{"property":"og:site_name","content":"Ikaros"}],["meta",{"property":"og:title","content":"Traefik配置文件示例"}],["meta",{"property":"og:description","content":"global: checkNewVersion: false # 周期性的检查是否有新版本发布 sendAnonymousUsage: false # 周期性的匿名发送使用统计信息 serversTransport: insecureSkipVerify: true # Traefik忽略验证代理服务的TLS证书 api: insecure: true # 允许HTTP 方式访问API dashboard: true # 启用Dashboard debug: false # 启用Debug调试模式 metrics: prometheus: # 配置Prometheus监控指标数据，并使用默认配置 addRoutersLabels: true # 添加routers metrics entryPoint: \\"metrics\\" # 指定metrics监听地址 entryPoints: web: address: \\":80\\" # 配置80端口，并设置入口名称为web forwardedHeaders: insecure: true # 信任所有的forward headers websecure: address: \\":443\\" # 配置443端口，并设置入口名称为 websecure forwardedHeaders: insecure: true traefik: address: \\":9000\\" # 配置9000端口，并设置入口名称为 dashboard metrics: address: \\":9100\\" # 配置9100端口，作为metrics收集入口 tcpep: address: \\":9200\\" # 配置9200端口，作为tcp入口 udpep: address: \\":9300/udp\\" # 配置9300端口，作为udp入口 providers: file: directory: \\"conf\\" # 读取当前路径下conf文件夹 kubernetesCRD: # 启用Kubernetes CRD方式来配置路由规则 ingressClass: \\"\\" # 指定traefik的ingressClass名称 allowCrossNamespace: true #允许跨namespace allowEmptyServices: true #允许空endpoints的service log: filePath: \\"/etc/traefik/logs/traefik.log\\" # 设置调试日志文件存储路径，如果为空则输出到控制台 level: \\"DEBUG\\" # 设置调试日志级别 format: \\"common\\" # 设置调试日志格式 accessLog: filePath: \\"/etc/traefik/logs/access.log\\" # 设置访问日志文件存储路径，如果为空则输出到控制台 format: \\"common\\" # 设置访问调试日志格式 bufferingSize: 0 # 设置访问日志缓存行数 filters: # statusCodes: [\\"200\\"] # 设置只保留指定状态码范围内的访问日志 retryAttempts: true # 设置代理访问重试失败时，保留访问日志 minDuration: 20 # 设置保留请求时间超过指定持续时间的访问日志 fields: # 设置访问日志中的字段是否保留（keep保留、drop不保留） defaultMode: keep # 设置默认保留访问日志字段 names: # 针对访问日志特别字段特别配置保留模式 ClientUsername: drop StartUTC: drop # 禁用日志timestamp使用UTC headers: # 设置Header中字段是否保留 defaultMode: keep # 设置默认保留Header中字段 names: # 针对Header中特别字段特别配置保留模式 # User-Agent: redact# 可以针对指定agent Authorization: drop Content-Type: keep experimental: # 实验性功能选项 localPlugins: # 使用本地插件 timerplugin: moduleName: \\"github.com/togettoyou/traefik-timer-plugin\\""}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-12-10T08:44:07.000Z"}],["meta",{"property":"article:author","content":"yhma"}],["meta",{"property":"article:tag","content":"Traefik"}],["meta",{"property":"article:modified_time","content":"2023-12-10T08:44:07.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Traefik配置文件示例\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-12-10T08:44:07.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"yhma\\",\\"url\\":\\"https://github.com/Alpha-yhma/Alpha-yhma.github.io\\"}]}"]]},"headers":[],"git":{"createdTime":1702197847000,"updatedTime":1702197847000,"contributors":[{"name":"alpha","email":"dota2again2@hotmail.com","commits":1}]},"readingTime":{"minutes":1.93,"words":580},"filePathRelative":"md/tool/traefik/traefik-config.md","localizedDate":"2023年12月10日","excerpt":"<div class=\\"language-yaml line-numbers-mode\\" data-ext=\\"yml\\"><pre class=\\"language-yaml\\"><code><span class=\\"token key atrule\\">global</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token key atrule\\">checkNewVersion</span><span class=\\"token punctuation\\">:</span> <span class=\\"token boolean important\\">false</span>    <span class=\\"token comment\\"># 周期性的检查是否有新版本发布</span>\\n  <span class=\\"token key atrule\\">sendAnonymousUsage</span><span class=\\"token punctuation\\">:</span> <span class=\\"token boolean important\\">false</span> <span class=\\"token comment\\"># 周期性的匿名发送使用统计信息</span>\\n<span class=\\"token key atrule\\">serversTransport</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token key atrule\\">insecureSkipVerify</span><span class=\\"token punctuation\\">:</span> <span class=\\"token boolean important\\">true</span>  <span class=\\"token comment\\"># Traefik忽略验证代理服务的TLS证书</span>\\n<span class=\\"token key atrule\\">api</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token key atrule\\">insecure</span><span class=\\"token punctuation\\">:</span> <span class=\\"token boolean important\\">true</span>            <span class=\\"token comment\\"># 允许HTTP 方式访问API</span>\\n  <span class=\\"token key atrule\\">dashboard</span><span class=\\"token punctuation\\">:</span> <span class=\\"token boolean important\\">true</span>           <span class=\\"token comment\\"># 启用Dashboard</span>\\n  <span class=\\"token key atrule\\">debug</span><span class=\\"token punctuation\\">:</span> <span class=\\"token boolean important\\">false</span>              <span class=\\"token comment\\"># 启用Debug调试模式</span>\\n<span class=\\"token key atrule\\">metrics</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token key atrule\\">prometheus</span><span class=\\"token punctuation\\">:</span>               <span class=\\"token comment\\"># 配置Prometheus监控指标数据，并使用默认配置</span>\\n  <span class=\\"token key atrule\\">addRoutersLabels</span><span class=\\"token punctuation\\">:</span> <span class=\\"token boolean important\\">true</span>  <span class=\\"token comment\\"># 添加routers metrics</span>\\n  <span class=\\"token key atrule\\">entryPoint</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\"metrics\\"</span>   <span class=\\"token comment\\"># 指定metrics监听地址</span>\\n<span class=\\"token key atrule\\">entryPoints</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token key atrule\\">web</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token key atrule\\">address</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\":80\\"</span>          <span class=\\"token comment\\"># 配置80端口，并设置入口名称为web</span>\\n  <span class=\\"token key atrule\\">forwardedHeaders</span><span class=\\"token punctuation\\">:</span>\\n    <span class=\\"token key atrule\\">insecure</span><span class=\\"token punctuation\\">:</span> <span class=\\"token boolean important\\">true</span>        <span class=\\"token comment\\"># 信任所有的forward headers</span>\\n    <span class=\\"token key atrule\\">websecure</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token key atrule\\">address</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\":443\\"</span>         <span class=\\"token comment\\"># 配置443端口，并设置入口名称为 websecure</span>\\n  <span class=\\"token key atrule\\">forwardedHeaders</span><span class=\\"token punctuation\\">:</span>\\n    <span class=\\"token key atrule\\">insecure</span><span class=\\"token punctuation\\">:</span> <span class=\\"token boolean important\\">true</span>\\n    <span class=\\"token key atrule\\">traefik</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token key atrule\\">address</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\":9000\\"</span>        <span class=\\"token comment\\"># 配置9000端口，并设置入口名称为 dashboard</span>\\n    <span class=\\"token key atrule\\">metrics</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token key atrule\\">address</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\":9100\\"</span>        <span class=\\"token comment\\"># 配置9100端口，作为metrics收集入口</span>\\n    <span class=\\"token key atrule\\">tcpep</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token key atrule\\">address</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\":9200\\"</span>        <span class=\\"token comment\\"># 配置9200端口，作为tcp入口</span>\\n    <span class=\\"token key atrule\\">udpep</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token key atrule\\">address</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\":9300/udp\\"</span>    <span class=\\"token comment\\"># 配置9300端口，作为udp入口</span>\\n<span class=\\"token key atrule\\">providers</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token key atrule\\">file</span><span class=\\"token punctuation\\">:</span>\\n    <span class=\\"token key atrule\\">directory</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\"conf\\"</span>       <span class=\\"token comment\\"># 读取当前路径下conf文件夹</span>\\n  <span class=\\"token key atrule\\">kubernetesCRD</span><span class=\\"token punctuation\\">:</span>            <span class=\\"token comment\\"># 启用Kubernetes CRD方式来配置路由规则</span>\\n  <span class=\\"token key atrule\\">ingressClass</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\"\\"</span>        <span class=\\"token comment\\"># 指定traefik的ingressClass名称</span>\\n  <span class=\\"token key atrule\\">allowCrossNamespace</span><span class=\\"token punctuation\\">:</span> <span class=\\"token boolean important\\">true</span>   <span class=\\"token comment\\">#允许跨namespace</span>\\n  <span class=\\"token key atrule\\">allowEmptyServices</span><span class=\\"token punctuation\\">:</span> <span class=\\"token boolean important\\">true</span>    <span class=\\"token comment\\">#允许空endpoints的service</span>\\n<span class=\\"token key atrule\\">log</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token key atrule\\">filePath</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\"/etc/traefik/logs/traefik.log\\"</span> <span class=\\"token comment\\"># 设置调试日志文件存储路径，如果为空则输出到控制台</span>\\n  <span class=\\"token key atrule\\">level</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\"DEBUG\\"</span>            <span class=\\"token comment\\"># 设置调试日志级别</span>\\n  <span class=\\"token key atrule\\">format</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\"common\\"</span>          <span class=\\"token comment\\"># 设置调试日志格式</span>\\n<span class=\\"token key atrule\\">accessLog</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token key atrule\\">filePath</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\"/etc/traefik/logs/access.log\\"</span> <span class=\\"token comment\\"># 设置访问日志文件存储路径，如果为空则输出到控制台</span>\\n  <span class=\\"token key atrule\\">format</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\"common\\"</span>          <span class=\\"token comment\\"># 设置访问调试日志格式</span>\\n  <span class=\\"token key atrule\\">bufferingSize</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">0</span>          <span class=\\"token comment\\"># 设置访问日志缓存行数</span>\\n  <span class=\\"token key atrule\\">filters</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token comment\\"># statusCodes: [\\"200\\"]  # 设置只保留指定状态码范围内的访问日志</span>\\n  <span class=\\"token key atrule\\">retryAttempts</span><span class=\\"token punctuation\\">:</span> <span class=\\"token boolean important\\">true</span>     <span class=\\"token comment\\"># 设置代理访问重试失败时，保留访问日志</span>\\n  <span class=\\"token key atrule\\">minDuration</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">20</span>         <span class=\\"token comment\\"># 设置保留请求时间超过指定持续时间的访问日志</span>\\n    <span class=\\"token key atrule\\">fields</span><span class=\\"token punctuation\\">:</span>                   <span class=\\"token comment\\"># 设置访问日志中的字段是否保留（keep保留、drop不保留）</span>\\n  <span class=\\"token key atrule\\">defaultMode</span><span class=\\"token punctuation\\">:</span> keep       <span class=\\"token comment\\"># 设置默认保留访问日志字段</span>\\n  <span class=\\"token key atrule\\">names</span><span class=\\"token punctuation\\">:</span>                  <span class=\\"token comment\\"># 针对访问日志特别字段特别配置保留模式</span>\\n    <span class=\\"token key atrule\\">ClientUsername</span><span class=\\"token punctuation\\">:</span> drop\\n    <span class=\\"token key atrule\\">StartUTC</span><span class=\\"token punctuation\\">:</span> drop        <span class=\\"token comment\\"># 禁用日志timestamp使用UTC</span>\\n  <span class=\\"token key atrule\\">headers</span><span class=\\"token punctuation\\">:</span>                <span class=\\"token comment\\"># 设置Header中字段是否保留</span>\\n    <span class=\\"token key atrule\\">defaultMode</span><span class=\\"token punctuation\\">:</span> keep     <span class=\\"token comment\\"># 设置默认保留Header中字段</span>\\n    <span class=\\"token key atrule\\">names</span><span class=\\"token punctuation\\">:</span>                <span class=\\"token comment\\"># 针对Header中特别字段特别配置保留模式</span>\\n    <span class=\\"token comment\\"># User-Agent: redact# 可以针对指定agent</span>\\n    <span class=\\"token key atrule\\">Authorization</span><span class=\\"token punctuation\\">:</span> drop\\n    <span class=\\"token key atrule\\">Content-Type</span><span class=\\"token punctuation\\">:</span> keep\\n<span class=\\"token key atrule\\">experimental</span><span class=\\"token punctuation\\">:</span>               <span class=\\"token comment\\"># 实验性功能选项</span>\\n  <span class=\\"token key atrule\\">localPlugins</span><span class=\\"token punctuation\\">:</span>             <span class=\\"token comment\\"># 使用本地插件</span>\\n  <span class=\\"token key atrule\\">timerplugin</span><span class=\\"token punctuation\\">:</span>\\n    <span class=\\"token key atrule\\">moduleName</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">\\"github.com/togettoyou/traefik-timer-plugin\\"</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{s as data};
